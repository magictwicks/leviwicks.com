/* === Tailwind base === */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* === Global base tweaks === */
html, body {
  min-height: 100%;
  font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Default dark canvas (tweak to taste) */
body {
  background: #0b0b10;
  color: #fff;
}

/* === Leaflet fixes & sizing === */
/* Don't let typography/dark-mode filters affect map tiles or icons */
.leaflet-container img,
.leaflet-container .leaflet-pane img,
.leaflet-tile {
  filter: none !important;
  mix-blend-mode: normal !important;
}

/* Make the map reliably fill its wrapper */
.map-wrap,
.leaflet-container {
  width: 100%;
  height: 100%;
}

/* Optional: subtle border & rounded corners for map shells */
.map-shell {
  /* Use this on the wrapper div around <MapContainer> */
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 0.75rem; /* ~ rounded-xl */
  overflow: hidden;
}

/* Tidy attribution text & controls a bit */
.leaflet-control-attribution,
.leaflet-control-scale {
  font-size: 12px;
  color: rgba(255,255,255,0.7);
}
.leaflet-bar a,
.leaflet-bar a:hover {
  background: rgba(0,0,0,0.4);
  border-bottom-color: rgba(255,255,255,0.08);
  color: #fff;
}

/* === Markdown (Tailwind Typography) ===
   Use className="markdown" on your article wrapper, or keep applying
   `prose prose-invert` directly in JSX. This gives you a handy shortcut. */
@layer components {
  .markdown {
    @apply prose prose-invert max-w-3xl mx-auto px-6 py-10;
  }

  /* Headings: a touch tighter with clear visual hierarchy */
  .markdown h1 { @apply text-4xl font-bold mt-4 mb-4; }
  .markdown h2 { @apply text-3xl font-semibold mt-8 mb-3; }
  .markdown h3 { @apply text-2xl font-semibold mt-6 mb-2; }

  /* Paragraphs & lists */
  .markdown p { @apply leading-7 my-4; }
  .markdown ul { @apply my-4 list-disc pl-6; }
  .markdown ol { @apply my-4 list-decimal pl-6; }
  .markdown li > ul,
  .markdown li > ol { @apply my-2; }

  /* Links */
  .markdown a { @apply underline underline-offset-2 decoration-white/30 hover:decoration-white; }

  /* Images inside prose */
  .markdown img { @apply rounded-lg; }

  /* Blockquotes */
  .markdown blockquote { @apply border-l-4 border-white/20 pl-4 italic text-white/80 my-6; }

  /* Tables */
  .markdown table { @apply w-full text-sm border-collapse my-6; }
  .markdown thead th { @apply border-b border-white/20 pb-2 text-left font-semibold; }
  .markdown tbody td { @apply border-b border-white/10 py-2 align-top; }

  /* Code: inline and blocks */
  .markdown :not(pre) > code {
    @apply px-1.5 py-0.5 rounded bg-white/10 text-white;
  }
  .markdown pre {
    @apply p-4 rounded-lg bg-black/50 overflow-x-auto my-6;
  }
  .markdown pre code {
    @apply bg-transparent p-0 text-white;
  }

  /* HR rule */
  .markdown hr { @apply my-8 border-white/10; }

  /* Captions (if you use <figcaption>) */
  .markdown figcaption { @apply text-sm text-white/60 mt-2 text-center; }
}

/* === Page layout helpers (optional) === */
/* Center your main content vertically on blank pages if you like */
.page-center {
  /* Use on a wrapper around your page: className="page-center" */
  min-height: 100dvh;
  display: grid;
  place-items: center;
  padding: 2rem;
}

/* Constrain wide content */
.container-narrow {
  max-width: 42rem; /* ~672px */
  margin-inline: auto;
  padding-inline: 1rem;
}

/* Centered post column: ~40% width on md+, full width on small */
.post-wrap {
  width: 100%;
  margin-inline: auto;
  padding-inline: 1rem; /* side padding on mobile */
}
@media (min-width: 768px) {
  .post-wrap {
    width: 40vw;           /* 40% of viewport width â‡’ ~30% margins */
    padding-inline: 0;     /* no extra padding on wide screens */
  }
}

@layer components {
  .markdown {
    @apply prose prose-invert mx-auto;
  }
  .markdown h1 { @apply text-4xl font-bold mt-6 mb-4; }
  .markdown h2 { @apply text-3xl font-semibold mt-8 mb-3; }
  .markdown p  { @apply leading-7 my-4; }
  .markdown img { @apply rounded-lg; }
  .markdown pre { @apply p-4 rounded-lg bg-black/50 overflow-x-auto my-6; }
}

